# プロジェクト要件定義書

## 概要

このフォルダには3つのアプリケーションが含まれます。

---

## 1. content-generator（既存）

### 説明
AIを使ってコンテンツ（スライド、台本、音声）を生成するWebアプリケーション

### 技術スタック
- SvelteKit
- TypeScript
- VOICEVOX連携
- OpenRouter API

### 現在の状態
- ✅ 動作中（ブラウザベース）
- 🔄 将来的にTauri化予定

### 出力データ形式
```
D:/テストテスト/video/
├── video-data-{uuid}.json    # プロジェクトデータ
├── section-{id}.wav          # 音声ファイル
└── ...
```

---

## 2. video-editor（既存）

### 説明
content-generatorで生成したデータを読み込んで表示するビューア

### 技術スタック
- Tauri 2
- Svelte 5
- TypeScript

### 現在の状態
- ✅ ビルド完了
- ✅ 起動可能

### 機能
- フォルダ読み込み（video-data-*.json）
- タイムライン表示
- スライドプレビュー
- 音声再生

### 位置づけ
- content-generatorのTauri化の前段階
- データビューアとして活用

---

## 3. ymm-editor（新規作成）

### 説明
軽量な動画編集ソフト（YMM4/DaVinci Resolve風）

### 技術スタック
- Tauri 2
- Svelte 5
- TypeScript
- FFmpeg（動画エンコード用）

### 必須機能（MVP）

#### Phase 1: 基本機能
| 機能 | 説明 | 優先度 |
|------|------|--------|
| メディアインポート | 動画/音声/画像ファイルを読み込む | 高 |
| タイムライン | 複数トラック（動画、音声、字幕） | 高 |
| プレビュー | 現在位置の映像をプレビュー | 高 |
| カット編集 | クリップの分割・削除・移動 | 高 |
| 動画エクスポート | MP4形式で出力 | 高 |

#### Phase 2: 拡張機能
| 機能 | 説明 | 優先度 |
|------|------|--------|
| 字幕/テロップ | テキストオーバーレイ | 中 |
| 画像オーバーレイ | 立ち絵・PNG配置 | 中 |
| 音声波形表示 | タイムラインに波形表示 | 中 |
| トランジション | フェード等の切り替え効果 | 低 |
| VOICEVOX連携 | 音声合成 | 低 |

### 画面構成（予定）
```
┌─────────────────────────────────────────────────────┐
│ メニューバー                                          │
├──────────────┬──────────────────────────────────────┤
│              │                                      │
│  メディア     │        プレビュー                    │
│  ライブラリ   │        (動画プレビュー)              │
│              │                                      │
│              ├──────────────────────────────────────┤
│              │  プロパティ / エフェクト              │
├──────────────┴──────────────────────────────────────┤
│                                                     │
│  タイムライン                                        │
│  ├─ 動画トラック                                    │
│  ├─ 音声トラック                                    │
│  └─ 字幕トラック                                    │
│                                                     │
└─────────────────────────────────────────────────────┘
```

### 対応ファイル形式

#### 入力
- 動画: MP4, MOV, AVI, WebM
- 音声: WAV, MP3, AAC
- 画像: PNG, JPG, GIF

#### 出力
- MP4 (H.264)

### content-generator連携
- video-data-*.jsonを読み込み可能
- スライドを画像として配置
- 音声ファイルをタイムラインに配置

---

## フォルダ構成

```
satomatashikicontent/
├── content-generator/     # コンテンツ生成システム（SvelteKit）
├── video-editor/          # データビューア（Tauri）
├── ymm-editor/            # 動画編集ソフト（Tauri）【新規】
└── docs/
    └── requirements.md    # この要件定義書
```

---

## 開発優先順位

1. **ymm-editor Phase 1** - 基本的な動画編集機能
2. **content-generator Tauri化** - デスクトップアプリ化
3. **ymm-editor Phase 2** - 拡張機能追加
4. **統合** - content-generatorからymm-editorへの直接連携

---

## 質問事項（確認が必要）

1. [ ] FFmpegはバンドルする？それともユーザーにインストールしてもらう？
2. [ ] 動画のリアルタイムプレビューは必要？（重くなる可能性）
3. [ ] プロジェクトファイルの保存形式は？
4. [ ] 最大対応解像度は？（1080p? 4K?）
5. [ ] undo/redo機能は必要？

---

## 更新履歴

| 日付 | 内容 |
|------|------|
| 2024-12-01 | 初版作成 |
